<div class="chart-list">
  <div *ngFor="let chart of aggregatedData | groupedCharts:departmentMap" class="chart-item">
    <!-- Toggle Button -->
    <button class="toggle-btn" (click)="toggleChart(chart.updatedAt)">
      {{ chart.updatedAt }}
      <span [class]="expandedCharts[chart.updatedAt] ? 'arrow down' : 'arrow right'"></span>
    </button>

    <!-- Pie Chart (Visible when expanded) -->
    <div *ngIf="expandedCharts[chart.updatedAt]" class="chart-container">
      <div echarts [options]="chart.chartOptions" class="echart"></div>
    </div>
  </div>
</div>
